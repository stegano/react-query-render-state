/*! For license information please see index.js.LICENSE.txt */
!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("react"));else if("function"==typeof define&&define.amd)define(["react"],e);else{var r="object"==typeof exports?e(require("react")):e(t.react);for(var s in r)("object"==typeof exports?exports:t)[s]=r[s]}}(global,(t=>(()=>{var e={155:e=>{"use strict";e.exports=t},698:(t,e)=>{"use strict";var r=Symbol.for("react.transitional.element");Symbol.for("react.fragment"),e.jsx=function(t,e,s){var i=null;if(void 0!==s&&(i=""+s),void 0!==e.key&&(i=""+e.key),"key"in e)for(var n in s={},e)"key"!==n&&(s[n]=e[n]);else s=e;return e=s.ref,{$$typeof:r,type:t,key:i,ref:void 0!==e?e:null,props:s}}},741:(t,e,r)=>{var s;global,t.exports=(s=r(155),(()=>{"use strict";var t={155:t=>{t.exports=s},698:(t,e)=>{var r=Symbol.for("react.transitional.element");Symbol.for("react.fragment"),e.jsx=function(t,e,s){var i=null;if(void 0!==s&&(i=""+s),void 0!==e.key&&(i=""+e.key),"key"in e)for(var n in s={},e)"key"!==n&&(s[n]=e[n]);else s=e;return e=s.ref,{$$typeof:r,type:t,key:i,ref:void 0!==e?e:null,props:s}}},848:(t,e,r)=>{t.exports=r(698)}},e={};function r(s){var i=e[s];if(void 0!==i)return i.exports;var n=e[s]={exports:{}};return t[s](n,n.exports,r),n.exports}r.d=(t,e)=>{for(var s in e)r.o(e,s)&&!r.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};r.r(i),r.d(i,{IRenderState:()=>n,IStore:()=>a,RenderStateContext:()=>f,RenderStateProvider:()=>p,createStore:()=>l,useRenderState:()=>c,useRenderStateManagement:()=>y});var n={};r.r(n),r.d(n,{Status:()=>o});var a={};r.r(a);var o,u=r(155);!function(t){t.Idle="Idle",t.Loading="Loading",t.Error="Error",t.Success="Success"}(o||(o={}));const c=(t,e)=>{const r=(0,u.useId)(),s=(0,u.useMemo)((()=>`${r}_renderState`),[r]),i=(0,u.useRef)(void 0),n=(0,u.useRef)(void 0),a=(0,u.useRef)(t),c=(0,u.useRef)(e),[h,l]=(0,u.useState)((()=>void 0!==t?o.Success:void 0!==e?o.Error:o.Idle)),d=(0,u.useCallback)((t=>{if("function"==typeof t){const e=t;l((t=>{const r=e({previousData:i.current,previousError:n.current,currentData:a.current,currentError:c.current,status:t});return i.current=r.previousData,n.current=r.previousError,a.current=r.currentData,c.current=r.currentError,r.status}))}else{const e=t;i.current=e.previousData,n.current=e.previousError,a.current=e.currentData,c.current=e.currentError,l(e.status)}}),[]),f=(0,u.useCallback)((async t=>{try{i.current=a.current,n.current=c.current,a.current=void 0,c.current=void 0,l(o.Loading);const e=await t(i.current,n.current);return a.current=e,l(o.Success),e}catch(t){throw c.current=t,l(o.Error),t}}),[]),p=(0,u.useCallback)((()=>{i.current=a.current,n.current=c.current,a.current=void 0,c.current=void 0,l(o.Idle)}),[]);return[(0,u.useCallback)(((...t)=>{const e=1===t.length,r=e?void 0:t[0],s=e?void 0:t[1],u=e?t[0]:t[2],l=e?void 0:t[3];switch(h){case o.Idle:return r?.(i.current,n.current);case o.Loading:return s?.(i.current,n.current);case o.Error:return void 0===c.current?(console.warn("No error found"),null):l?.(c.current,i.current,n.current);case o.Success:return void 0===a.current?(console.warn("No data found"),null):u?.(a.current,i.current,n.current);default:return console.warn(`Unknown status(${h})`),null}}),[h]),f,p,h,a.current,c.current,i.current,n.current,d,s]};var h=r(848);const l=(t={initialStoreData:{}})=>{const{initialStoreData:e={}}=t,r={_store:e,_listenerList:[],_emit:()=>{for(const t of r._listenerList)t()},_reset:()=>{r._store={},r._emit()},set:(t,e,s=!0,i=!1)=>{const n=r._store[t];r._store=s?{...r._store,[t]:{...n,...e}}:{...r._store,[t]:{...e}},!1===i&&r._emit()},get:t=>r._store[t],has:t=>t in r._store,remove:t=>{delete r._store[t],r._emit()},subscribe:t=>(r._listenerList.push(t),()=>{r._listenerList=r._listenerList.filter((e=>e!==t))}),getSnapshot:()=>r._store};return r},d=l(),f=(0,u.createContext)({getStore:()=>d}),p=function({children:t,store:e=d}){const r=(0,u.useMemo)((()=>({getStore:()=>e})),[e]);return(0,h.jsx)(f.Provider,{value:r,children:t})},y=(t,e,r)=>{const s=(0,u.useContext)(f),i=(0,u.useMemo)((()=>s.getStore()),[s]),n=(0,u.useSyncExternalStore)(i.subscribe,i.getSnapshot,i.getSnapshot),a=(0,u.useMemo)((()=>{if(void 0!==r)return n[r]}),[n,r]),h=(0,u.useMemo)((()=>void 0===r?t:a?.currentData?a.currentData:a?.initialData??t),[a?.currentData,a?.initialData,t,r]),l=(0,u.useMemo)((()=>a?.currentError?a.currentError:a?.initialError??e),[a?.currentError,a?.initialError,e]),[d,p,y,v,m,b,g,O,R,S]=c(h,l);return(0,u.useEffect)((()=>{if(void 0!==r&&void 0===n[r]){let s=o.Idle;t?s=o.Success:e&&(s=o.Error),i.set(r,{initialData:t,initialError:e,status:s,latestUpdatedId:S})}}),[r,n,t,e,i,S]),(0,u.useEffect)((()=>{void 0!==r&&void 0!==a&&a.latestUpdatedId!==S&&R({previousData:m,previousError:b,currentData:a?.currentData,currentError:a?.currentError,status:a?.status})}),[S,r,i,m,b,v,g,O,a,R]),[d,(0,u.useCallback)((async t=>{let e,s,n;try{return await p((async(a,u)=>(s=a,n=u,void 0!==r&&i.set(r,{previousData:a,previousError:u,currentData:void 0,currentError:void 0,status:o.Loading,latestUpdatedId:S}),e=await t(a,u),void 0!==r&&i.set(r,{currentData:e,status:o.Success,latestUpdatedId:S}),e)))}catch(t){throw void 0!==r&&i.set(r,{previousData:s,previousError:n,currentData:void 0,currentError:t,status:o.Error,latestUpdatedId:S}),t}}),[p,S,r,i]),y,v,m,b,g,O,R,r]};return i})())},848:(t,e,r)=>{"use strict";t.exports=r(698)}},r={};function s(t){var i=r[t];if(void 0!==i)return i.exports;var n=r[t]={exports:{}};return e[t](n,n.exports,s),n.exports}s.d=(t,e)=>{for(var r in e)s.o(e,r)&&!s.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};return(()=>{"use strict";s.r(i),s.d(i,{CancelledError:()=>I,HydrationBoundary:()=>Zt,InfiniteQueryObserver:()=>bt,IsRestoringProvider:()=>nt,Mutation:()=>Qt,MutationCache:()=>wt,MutationObserver:()=>xt,QueriesObserver:()=>Mt,Query:()=>A,QueryCache:()=>Et,QueryClient:()=>Pt,QueryClientContext:()=>B,QueryClientProvider:()=>$,QueryErrorResetBoundary:()=>X,QueryObserver:()=>j,dataTagErrorSymbol:()=>Ht,dataTagSymbol:()=>Lt,defaultScheduler:()=>w,defaultShouldDehydrateMutation:()=>Tt,defaultShouldDehydrateQuery:()=>At,dehydrate:()=>jt,experimental_streamedQuery:()=>_t,focusManager:()=>Q,hashKey:()=>d,hydrate:()=>Kt,infiniteQueryOptions:()=>Xt,isCancelledError:()=>F,isServer:()=>e,keepPreviousData:()=>O,matchMutation:()=>h,matchQuery:()=>c,notifyManager:()=>q,onlineManager:()=>P,queryOptions:()=>Vt,replaceEqualDeep:()=>p,skipToken:()=>C,unsetMarker:()=>Nt,useConvertQueryRenderStateResult:()=>Rt,useInfiniteQuery:()=>gt,useInfiniteQueryRenderState:()=>Ct,useIsFetching:()=>te,useIsMutating:()=>ee,useIsRestoring:()=>it,useMutation:()=>ie,useMutationState:()=>se,usePrefetchInfiniteQuery:()=>Jt,usePrefetchQuery:()=>Wt,useQueries:()=>Gt,useQuery:()=>dt,useQueryClient:()=>z,useQueryErrorResetBoundary:()=>V,useQueryRenderState:()=>St,useSuspenseInfiniteQuery:()=>zt,useSuspenseQueries:()=>$t,useSuspenseQuery:()=>Bt});var t=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},e="undefined"==typeof window||"Deno"in globalThis;function r(){}function n(t){return"number"==typeof t&&t>=0&&t!==1/0}function a(t,e){return Math.max(t+(e||0)-Date.now(),0)}function o(t,e){return"function"==typeof t?t(e):t}function u(t,e){return"function"==typeof t?t(e):t}function c(t,e){const{type:r="all",exact:s,fetchStatus:i,predicate:n,queryKey:a,stale:o}=t;if(a)if(s){if(e.queryHash!==l(a,e.options))return!1}else if(!f(e.queryKey,a))return!1;if("all"!==r){const t=e.isActive();if("active"===r&&!t)return!1;if("inactive"===r&&t)return!1}return!("boolean"==typeof o&&e.isStale()!==o||i&&i!==e.state.fetchStatus||n&&!n(e))}function h(t,e){const{exact:r,status:s,predicate:i,mutationKey:n}=t;if(n){if(!e.options.mutationKey)return!1;if(r){if(d(e.options.mutationKey)!==d(n))return!1}else if(!f(e.options.mutationKey,n))return!1}return!(s&&e.state.status!==s||i&&!i(e))}function l(t,e){return(e?.queryKeyHashFn||d)(t)}function d(t){return JSON.stringify(t,((t,e)=>m(e)?Object.keys(e).sort().reduce(((t,r)=>(t[r]=e[r],t)),{}):e))}function f(t,e){return t===e||typeof t==typeof e&&!(!t||!e||"object"!=typeof t||"object"!=typeof e)&&Object.keys(e).every((r=>f(t[r],e[r])))}function p(t,e){if(t===e)return t;const r=v(t)&&v(e);if(r||m(t)&&m(e)){const s=r?t:Object.keys(t),i=s.length,n=r?e:Object.keys(e),a=n.length,o=r?[]:{};let u=0;for(let i=0;i<a;i++){const a=r?i:n[i];(!r&&s.includes(a)||r)&&void 0===t[a]&&void 0===e[a]?(o[a]=void 0,u++):(o[a]=p(t[a],e[a]),o[a]===t[a]&&void 0!==t[a]&&u++)}return i===a&&u===i?t:o}return e}function y(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function v(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function m(t){if(!b(t))return!1;const e=t.constructor;if(void 0===e)return!0;const r=e.prototype;return!!b(r)&&!!r.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(t)===Object.prototype}function b(t){return"[object Object]"===Object.prototype.toString.call(t)}function g(t,e,r){return"function"==typeof r.structuralSharing?r.structuralSharing(t,e):!1!==r.structuralSharing?p(t,e):e}function O(t){return t}function R(t,e,r=0){const s=[...t,e];return r&&s.length>r?s.slice(1):s}function S(t,e,r=0){const s=[e,...t];return r&&s.length>r?s.slice(0,-1):s}var C=Symbol();function E(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:t.queryFn&&t.queryFn!==C?t.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`))}var Q=new class extends t{#t;#e;#r;constructor(){super(),this.#r=t=>{if(!e&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#r=t,this.#e?.(),this.#e=t((t=>{"boolean"==typeof t?this.setFocused(t):this.onFocus()}))}setFocused(t){this.#t!==t&&(this.#t=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach((e=>{e(t)}))}isFocused(){return"boolean"==typeof this.#t?this.#t:"hidden"!==globalThis.document?.visibilityState}},w=t=>setTimeout(t,0),q=function(){let t=[],e=0,r=t=>{t()},s=t=>{t()},i=w;const n=s=>{e?t.push(s):i((()=>{r(s)}))};return{batch:n=>{let a;e++;try{a=n()}finally{e--,e||(()=>{const e=t;t=[],e.length&&i((()=>{s((()=>{e.forEach((t=>{r(t)}))}))}))})()}return a},batchCalls:t=>(...e)=>{n((()=>{t(...e)}))},schedule:n,setNotifyFunction:t=>{r=t},setBatchNotifyFunction:t=>{s=t},setScheduler:t=>{i=t}}}(),P=new class extends t{#s=!0;#e;#r;constructor(){super(),this.#r=t=>{if(!e&&window.addEventListener){const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#r=t,this.#e?.(),this.#e=t(this.setOnline.bind(this))}setOnline(t){this.#s!==t&&(this.#s=t,this.listeners.forEach((e=>{e(t)})))}isOnline(){return this.#s}};function D(){let t,e;const r=new Promise(((r,s)=>{t=r,e=s}));function s(t){Object.assign(r,t),delete r.resolve,delete r.reject}return r.status="pending",r.catch((()=>{})),r.resolve=e=>{s({status:"fulfilled",value:e}),t(e)},r.reject=t=>{s({status:"rejected",reason:t}),e(t)},r}function M(t){return Math.min(1e3*2**t,3e4)}function x(t){return"online"!==(t??"online")||P.isOnline()}var I=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function F(t){return t instanceof I}function k(t){let r,s=!1,i=0,n=!1;const a=D(),o=()=>Q.isFocused()&&("always"===t.networkMode||P.isOnline())&&t.canRun(),u=()=>x(t.networkMode)&&t.canRun(),c=e=>{n||(n=!0,t.onSuccess?.(e),r?.(),a.resolve(e))},h=e=>{n||(n=!0,t.onError?.(e),r?.(),a.reject(e))},l=()=>new Promise((e=>{r=t=>{(n||o())&&e(t)},t.onPause?.()})).then((()=>{r=void 0,n||t.onContinue?.()})),d=()=>{if(n)return;let r;const a=0===i?t.initialPromise:void 0;try{r=a??t.fn()}catch(t){r=Promise.reject(t)}Promise.resolve(r).then(c).catch((r=>{if(n)return;const a=t.retry??(e?0:3),u=t.retryDelay??M,c="function"==typeof u?u(i,r):u,f=!0===a||"number"==typeof a&&i<a||"function"==typeof a&&a(i,r);var p;!s&&f?(i++,t.onFail?.(i,r),(p=c,new Promise((t=>{setTimeout(t,p)}))).then((()=>o()?void 0:l())).then((()=>{s?h(r):d()}))):h(r)}))};return{promise:a,cancel:e=>{n||(h(new I(e)),t.abort?.())},continue:()=>(r?.(),a),cancelRetry:()=>{s=!0},continueRetry:()=>{s=!1},canStart:u,start:()=>(u()?d():l().then(d),a)}}var T=class{#i;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),n(this.gcTime)&&(this.#i=setTimeout((()=>{this.optionalRemove()}),this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(e?1/0:3e5))}clearGcTimeout(){this.#i&&(clearTimeout(this.#i),this.#i=void 0)}},A=class extends T{#n;#a;#o;#u;#c;#h;#l;constructor(t){super(),this.#l=!1,this.#h=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#u=t.client,this.#o=this.#u.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#n=function(t){const e="function"==typeof t.initialData?t.initialData():t.initialData,r=void 0!==e,s=r?"function"==typeof t.initialDataUpdatedAt?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}(this.options),this.state=t.state??this.#n,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#c?.promise}setOptions(t){this.options={...this.#h,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#o.remove(this)}setData(t,e){const r=g(this.state.data,t,this.options);return this.#d({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#d({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#c?.promise;return this.#c?.cancel(t),e?e.then(r).catch(r):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#n)}isActive(){return this.observers.some((t=>!1!==u(t.options.enabled,this)))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===C||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.observers.some((t=>t.getCurrentResult().isStale)):void 0===this.state.data)}isStaleByTime(t=0){return this.state.isInvalidated||void 0===this.state.data||!a(this.state.dataUpdatedAt,t)}onFocus(){const t=this.observers.find((t=>t.shouldFetchOnWindowFocus()));t?.refetch({cancelRefetch:!1}),this.#c?.continue()}onOnline(){const t=this.observers.find((t=>t.shouldFetchOnReconnect()));t?.refetch({cancelRefetch:!1}),this.#c?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#o.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter((e=>e!==t)),this.observers.length||(this.#c&&(this.#l?this.#c.cancel({revert:!0}):this.#c.cancelRetry()),this.scheduleGc()),this.#o.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#d({type:"invalidate"})}fetch(t,e){if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#c)return this.#c.continueRetry(),this.#c.promise;if(t&&this.setOptions(t),!this.options.queryFn){const t=this.observers.find((t=>t.options.queryFn));t&&this.setOptions(t.options)}const r=new AbortController,s=t=>{Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(this.#l=!0,r.signal)})},i={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#u,state:this.state,fetchFn:()=>{const t=E(this.options,e),r={client:this.#u,queryKey:this.queryKey,meta:this.meta};return s(r),this.#l=!1,this.options.persister?this.options.persister(t,r,this):t(r)}};s(i),this.options.behavior?.onFetch(i,this),this.#a=this.state,"idle"!==this.state.fetchStatus&&this.state.fetchMeta===i.fetchOptions?.meta||this.#d({type:"fetch",meta:i.fetchOptions?.meta});const n=t=>{F(t)&&t.silent||this.#d({type:"error",error:t}),F(t)||(this.#o.config.onError?.(t,this),this.#o.config.onSettled?.(this.state.data,t,this)),this.scheduleGc()};return this.#c=k({initialPromise:e?.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:t=>{if(void 0!==t){try{this.setData(t)}catch(t){return void n(t)}this.#o.config.onSuccess?.(t,this),this.#o.config.onSettled?.(t,this.state.error,this),this.scheduleGc()}else n(new Error(`${this.queryHash} data is undefined`))},onError:n,onFail:(t,e)=>{this.#d({type:"failed",failureCount:t,error:e})},onPause:()=>{this.#d({type:"pause"})},onContinue:()=>{this.#d({type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0}),this.#c.start()}#d(t){this.state=(e=>{switch(t.type){case"failed":return{...e,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...e,fetchStatus:"paused"};case"continue":return{...e,fetchStatus:"fetching"};case"fetch":return{...e,...U(e.data,this.options),fetchMeta:t.meta??null};case"success":return{...e,data:t.data,dataUpdateCount:e.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return F(r)&&r.revert&&this.#a?{...this.#a,fetchStatus:"idle"}:{...e,error:r,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...e,isInvalidated:!0};case"setState":return{...e,...t.state}}})(this.state),q.batch((()=>{this.observers.forEach((t=>{t.onQueryUpdate()})),this.#o.notify({query:this,type:"updated",action:t})}))}};function U(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:x(e.networkMode)?"fetching":"paused",...void 0===t&&{error:null,status:"pending"}}}var j=class extends t{constructor(t,e){super(),this.options=e,this.#u=t,this.#f=null,this.#p=D(),this.options.experimental_prefetchInRender||this.#p.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#u;#y=void 0;#v=void 0;#m=void 0;#b;#g;#p;#f;#O;#R;#S;#C;#E;#Q;#w=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#y.addObserver(this),K(this.#y,this.options)?this.#q():this.updateResult(),this.#P())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return _(this.#y,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return _(this.#y,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#D(),this.#M(),this.#y.removeObserver(this)}setOptions(t){const e=this.options,r=this.#y;if(this.options=this.#u.defaultQueryOptions(t),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof u(this.options.enabled,this.#y))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#x(),this.#y.setOptions(this.options),e._defaulted&&!y(this.options,e)&&this.#u.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#y,observer:this});const s=this.hasListeners();s&&L(this.#y,r,this.options,e)&&this.#q(),this.updateResult(),!s||this.#y===r&&u(this.options.enabled,this.#y)===u(e.enabled,this.#y)&&o(this.options.staleTime,this.#y)===o(e.staleTime,this.#y)||this.#I();const i=this.#F();!s||this.#y===r&&u(this.options.enabled,this.#y)===u(e.enabled,this.#y)&&i===this.#Q||this.#k(i)}getOptimisticResult(t){const e=this.#u.getQueryCache().build(this.#u,t),r=this.createResult(e,t);return s=r,!y(this.getCurrentResult(),s)&&(this.#m=r,this.#g=this.options,this.#b=this.#y.state),r;var s}getCurrentResult(){return this.#m}trackResult(t,e){const r={};return Object.keys(t).forEach((s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),e?.(s),t[s])})})),r}trackProp(t){this.#w.add(t)}getCurrentQuery(){return this.#y}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#u.defaultQueryOptions(t),r=this.#u.getQueryCache().build(this.#u,e);return r.fetch().then((()=>this.createResult(r,e)))}fetch(t){return this.#q({...t,cancelRefetch:t.cancelRefetch??!0}).then((()=>(this.updateResult(),this.#m)))}#q(t){this.#x();let e=this.#y.fetch(this.options,t);return t?.throwOnError||(e=e.catch(r)),e}#I(){this.#D();const t=o(this.options.staleTime,this.#y);if(e||this.#m.isStale||!n(t))return;const r=a(this.#m.dataUpdatedAt,t)+1;this.#C=setTimeout((()=>{this.#m.isStale||this.updateResult()}),r)}#F(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#y):this.options.refetchInterval)??!1}#k(t){this.#M(),this.#Q=t,!e&&!1!==u(this.options.enabled,this.#y)&&n(this.#Q)&&0!==this.#Q&&(this.#E=setInterval((()=>{(this.options.refetchIntervalInBackground||Q.isFocused())&&this.#q()}),this.#Q))}#P(){this.#I(),this.#k(this.#F())}#D(){this.#C&&(clearTimeout(this.#C),this.#C=void 0)}#M(){this.#E&&(clearInterval(this.#E),this.#E=void 0)}createResult(t,e){const r=this.#y,s=this.options,i=this.#m,n=this.#b,a=this.#g,o=t!==r?t.state:this.#v,{state:u}=t;let c,h={...u},l=!1;if(e._optimisticResults){const i=this.hasListeners(),n=!i&&K(t,e),a=i&&L(t,r,e,s);(n||a)&&(h={...h,...U(u.data,t.options)}),"isRestoring"===e._optimisticResults&&(h.fetchStatus="idle")}let{error:d,errorUpdatedAt:f,status:p}=h;c=h.data;let y=!1;if(void 0!==e.placeholderData&&void 0===c&&"pending"===p){let t;i?.isPlaceholderData&&e.placeholderData===a?.placeholderData?(t=i.data,y=!0):t="function"==typeof e.placeholderData?e.placeholderData(this.#S?.state.data,this.#S):e.placeholderData,void 0!==t&&(p="success",c=g(i?.data,t,e),l=!0)}if(e.select&&void 0!==c&&!y)if(i&&c===n?.data&&e.select===this.#O)c=this.#R;else try{this.#O=e.select,c=e.select(c),c=g(i?.data,c,e),this.#R=c,this.#f=null}catch(t){this.#f=t}this.#f&&(d=this.#f,c=this.#R,f=Date.now(),p="error");const v="fetching"===h.fetchStatus,m="pending"===p,b="error"===p,O=m&&v,R=void 0!==c,S={status:p,fetchStatus:h.fetchStatus,isPending:m,isSuccess:"success"===p,isError:b,isInitialLoading:O,isLoading:O,data:c,dataUpdatedAt:h.dataUpdatedAt,error:d,errorUpdatedAt:f,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>o.dataUpdateCount||h.errorUpdateCount>o.errorUpdateCount,isFetching:v,isRefetching:v&&!m,isLoadingError:b&&!R,isPaused:"paused"===h.fetchStatus,isPlaceholderData:l,isRefetchError:b&&R,isStale:H(t,e),refetch:this.refetch,promise:this.#p};if(this.options.experimental_prefetchInRender){const e=t=>{"error"===S.status?t.reject(S.error):void 0!==S.data&&t.resolve(S.data)},s=()=>{const t=this.#p=S.promise=D();e(t)},i=this.#p;switch(i.status){case"pending":t.queryHash===r.queryHash&&e(i);break;case"fulfilled":"error"!==S.status&&S.data===i.value||s();break;case"rejected":"error"===S.status&&S.error===i.reason||s()}}return S}updateResult(){const t=this.#m,e=this.createResult(this.#y,this.options);this.#b=this.#y.state,this.#g=this.options,void 0!==this.#b.data&&(this.#S=this.#y),y(e,t)||(this.#m=e,this.#T({listeners:(()=>{if(!t)return!0;const{notifyOnChangeProps:e}=this.options,r="function"==typeof e?e():e;if("all"===r||!r&&!this.#w.size)return!0;const s=new Set(r??this.#w);return this.options.throwOnError&&s.add("error"),Object.keys(this.#m).some((e=>{const r=e;return this.#m[r]!==t[r]&&s.has(r)}))})()}))}#x(){const t=this.#u.getQueryCache().build(this.#u,this.options);if(t===this.#y)return;const e=this.#y;this.#y=t,this.#v=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#P()}#T(t){q.batch((()=>{t.listeners&&this.listeners.forEach((t=>{t(this.#m)})),this.#u.getQueryCache().notify({query:this.#y,type:"observerResultsUpdated"})}))}};function K(t,e){return function(t,e){return!1!==u(e.enabled,t)&&void 0===t.state.data&&!("error"===t.state.status&&!1===e.retryOnMount)}(t,e)||void 0!==t.state.data&&_(t,e,e.refetchOnMount)}function _(t,e,r){if(!1!==u(e.enabled,t)){const s="function"==typeof r?r(t):r;return"always"===s||!1!==s&&H(t,e)}return!1}function L(t,e,r,s){return(t!==e||!1===u(s.enabled,t))&&(!r.suspense||"error"!==t.state.status)&&H(t,r)}function H(t,e){return!1!==u(e.enabled,t)&&t.isStaleByTime(o(e.staleTime,t))}var N=s(155),G=s(848),B=N.createContext(void 0),z=t=>{const e=N.useContext(B);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},$=({client:t,children:e})=>(N.useEffect((()=>(t.mount(),()=>{t.unmount()})),[t]),(0,G.jsx)(B.Provider,{value:t,children:e}));function W(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var J=N.createContext(W()),V=()=>N.useContext(J),X=({children:t})=>{const[e]=N.useState((()=>W()));return(0,G.jsx)(J.Provider,{value:e,children:"function"==typeof t?t(e):t})};function Y(t,e){return"function"==typeof t?t(...e):!!t}function Z(){}var tt=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},et=t=>{N.useEffect((()=>{t.clearReset()}),[t])},rt=({result:t,errorResetBoundary:e,throwOnError:r,query:s,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&s&&(i&&void 0===t.data||Y(r,[t.error,s])),st=N.createContext(!1),it=()=>N.useContext(st),nt=st.Provider,at=(t,e)=>void 0===e.state.data,ot=t=>{const e=t.staleTime;t.suspense&&(t.staleTime="function"==typeof e?(...t)=>Math.max(e(...t),1e3):Math.max(e??1e3,1e3),"number"==typeof t.gcTime&&(t.gcTime=Math.max(t.gcTime,1e3)))},ut=(t,e)=>t.isLoading&&t.isFetching&&!e,ct=(t,e)=>t?.suspense&&e.isPending,ht=(t,e,r)=>e.fetchOptimistic(t).catch((()=>{r.clearReset()}));function lt(t,r,s){const i=z(s),n=it(),a=V(),o=i.defaultQueryOptions(t);i.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=n?"isRestoring":"optimistic",ot(o),tt(o,a),et(a);const u=!i.getQueryCache().get(o.queryHash),[c]=N.useState((()=>new r(i,o))),h=c.getOptimisticResult(o),l=!n&&!1!==t.subscribed;if(N.useSyncExternalStore(N.useCallback((t=>{const e=l?c.subscribe(q.batchCalls(t)):Z;return c.updateResult(),e}),[c,l]),(()=>c.getCurrentResult()),(()=>c.getCurrentResult())),N.useEffect((()=>{c.setOptions(o)}),[o,c]),ct(o,h))throw ht(o,c,a);if(rt({result:h,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw h.error;if(i.getDefaultOptions().queries?._experimental_afterQuery?.(o,h),o.experimental_prefetchInRender&&!e&&ut(h,n)){const t=u?ht(o,c,a):i.getQueryCache().get(o.queryHash)?.promise;t?.catch(Z).finally((()=>{c.updateResult()}))}return o.notifyOnChangeProps?h:c.trackResult(h)}function dt(t,e){return lt(t,j,e)}function ft(t){return{onFetch:(e,r)=>{const s=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,n=e.state.data?.pages||[],a=e.state.data?.pageParams||[];let o={pages:[],pageParams:[]},u=0;const c=async()=>{let r=!1;const c=E(e.options,e.fetchOptions),h=async(t,s,i)=>{if(r)return Promise.reject();if(null==s&&t.pages.length)return Promise.resolve(t);const n={client:e.client,queryKey:e.queryKey,pageParam:s,direction:i?"backward":"forward",meta:e.options.meta};var a;a=n,Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(e.signal.aborted?r=!0:e.signal.addEventListener("abort",(()=>{r=!0})),e.signal)});const o=await c(n),{maxPages:u}=e.options,h=i?S:R;return{pages:h(t.pages,o,u),pageParams:h(t.pageParams,s,u)}};if(i&&n.length){const t="backward"===i,e={pages:n,pageParams:a},r=(t?yt:pt)(s,e);o=await h(e,r,t)}else{const e=t??n.length;do{const t=0===u?a[0]??s.initialPageParam:pt(s,o);if(u>0&&null==t)break;o=await h(o,t),u++}while(u<e)}return o};e.options.persister?e.fetchFn=()=>e.options.persister?.(c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=c}}}function pt(t,{pages:e,pageParams:r}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,r[s],r):void 0}function yt(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}function vt(t,e){return!!e&&null!=pt(t,e)}function mt(t,e){return!(!e||!t.getPreviousPageParam)&&null!=yt(t,e)}var bt=class extends j{constructor(t,e){super(t,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t){super.setOptions({...t,behavior:ft()})}getOptimisticResult(t){return t.behavior=ft(),super.getOptimisticResult(t)}fetchNextPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"backward"}}})}createResult(t,e){const{state:r}=t,s=super.createResult(t,e),{isFetching:i,isRefetching:n,isError:a,isRefetchError:o}=s,u=r.fetchMeta?.fetchMore?.direction,c=a&&"forward"===u,h=i&&"forward"===u,l=a&&"backward"===u,d=i&&"backward"===u;return{...s,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:vt(e,r.data),hasPreviousPage:mt(e,r.data),isFetchNextPageError:c,isFetchingNextPage:h,isFetchPreviousPageError:l,isFetchingPreviousPage:d,isRefetchError:o&&!c&&!l,isRefetching:n&&!h&&!d}}};function gt(t,e){return lt(t,bt,e)}var Ot=s(741);const Rt=t=>{const[e,,,,,,,,r]=(0,Ot.useRenderState)();return(0,N.useEffect)((()=>{switch(t.status){case"pending":r((t=>({previousData:t.currentData,previousError:t.currentError,currentData:void 0,currentError:void 0,status:Ot.IRenderState.Status.Loading})));break;case"success":r((e=>({previousData:e.currentData,previousError:e.currentError,currentData:t.data,currentError:void 0,status:Ot.IRenderState.Status.Success})));break;case"error":r((e=>({previousData:e.currentData,previousError:e.currentError,currentData:void 0,currentError:t.error,status:Ot.IRenderState.Status.Error})))}}),[r,t.data,t.error,t.status]),{render:e,...t}},St=(...t)=>{const e=dt(...t);return Rt(e)},Ct=(...t)=>{const e=gt(...t);return Rt(e)};var Et=class extends t{constructor(t={}){super(),this.config=t,this.#A=new Map}#A;build(t,e,r){const s=e.queryKey,i=e.queryHash??l(s,e);let n=this.get(i);return n||(n=new A({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(n)),n}add(t){this.#A.has(t.queryHash)||(this.#A.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#A.get(t.queryHash);e&&(t.destroy(),e===t&&this.#A.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){q.batch((()=>{this.getAll().forEach((t=>{this.remove(t)}))}))}get(t){return this.#A.get(t)}getAll(){return[...this.#A.values()]}find(t){const e={exact:!0,...t};return this.getAll().find((t=>c(e,t)))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter((e=>c(t,e))):e}notify(t){q.batch((()=>{this.listeners.forEach((e=>{e(t)}))}))}onFocus(){q.batch((()=>{this.getAll().forEach((t=>{t.onFocus()}))}))}onOnline(){q.batch((()=>{this.getAll().forEach((t=>{t.onOnline()}))}))}},Qt=class extends T{#U;#j;#c;constructor(t){super(),this.mutationId=t.mutationId,this.#j=t.mutationCache,this.#U=[],this.state=t.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#U.includes(t)||(this.#U.push(t),this.clearGcTimeout(),this.#j.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#U=this.#U.filter((e=>e!==t)),this.scheduleGc(),this.#j.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#U.length||("pending"===this.state.status?this.scheduleGc():this.#j.remove(this))}continue(){return this.#c?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#d({type:"continue"})};this.#c=k({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(t,e)=>{this.#d({type:"failed",failureCount:t,error:e})},onPause:()=>{this.#d({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#j.canRun(this)});const r="pending"===this.state.status,s=!this.#c.canStart();try{if(r)e();else{this.#d({type:"pending",variables:t,isPaused:s}),await(this.#j.config.onMutate?.(t,this));const e=await(this.options.onMutate?.(t));e!==this.state.context&&this.#d({type:"pending",context:e,variables:t,isPaused:s})}const i=await this.#c.start();return await(this.#j.config.onSuccess?.(i,t,this.state.context,this)),await(this.options.onSuccess?.(i,t,this.state.context)),await(this.#j.config.onSettled?.(i,null,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(i,null,t,this.state.context)),this.#d({type:"success",data:i}),i}catch(e){try{throw await(this.#j.config.onError?.(e,t,this.state.context,this)),await(this.options.onError?.(e,t,this.state.context)),await(this.#j.config.onSettled?.(void 0,e,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(void 0,e,t,this.state.context)),e}finally{this.#d({type:"error",error:e})}}finally{this.#j.runNext(this)}}#d(t){this.state=(e=>{switch(t.type){case"failed":return{...e,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...e,isPaused:!0};case"continue":return{...e,isPaused:!1};case"pending":return{...e,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...e,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...e,data:void 0,error:t.error,failureCount:e.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}})(this.state),q.batch((()=>{this.#U.forEach((e=>{e.onMutationUpdate(t)})),this.#j.notify({mutation:this,type:"updated",action:t})}))}},wt=class extends t{constructor(t={}){super(),this.config=t,this.#K=new Set,this.#_=new Map,this.#L=0}#K;#_;#L;build(t,e,r){const s=new Qt({mutationCache:this,mutationId:++this.#L,options:t.defaultMutationOptions(e),state:r});return this.add(s),s}add(t){this.#K.add(t);const e=qt(t);if("string"==typeof e){const r=this.#_.get(e);r?r.push(t):this.#_.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#K.delete(t)){const e=qt(t);if("string"==typeof e){const r=this.#_.get(e);if(r)if(r.length>1){const e=r.indexOf(t);-1!==e&&r.splice(e,1)}else r[0]===t&&this.#_.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=qt(t);if("string"==typeof e){const r=this.#_.get(e),s=r?.find((t=>"pending"===t.state.status));return!s||s===t}return!0}runNext(t){const e=qt(t);if("string"==typeof e){const r=this.#_.get(e)?.find((e=>e!==t&&e.state.isPaused));return r?.continue()??Promise.resolve()}return Promise.resolve()}clear(){q.batch((()=>{this.#K.forEach((t=>{this.notify({type:"removed",mutation:t})})),this.#K.clear(),this.#_.clear()}))}getAll(){return Array.from(this.#K)}find(t){const e={exact:!0,...t};return this.getAll().find((t=>h(e,t)))}findAll(t={}){return this.getAll().filter((e=>h(t,e)))}notify(t){q.batch((()=>{this.listeners.forEach((e=>{e(t)}))}))}resumePausedMutations(){const t=this.getAll().filter((t=>t.state.isPaused));return q.batch((()=>Promise.all(t.map((t=>t.continue().catch(r))))))}};function qt(t){return t.options.scope?.id}var Pt=class{#H;#j;#h;#N;#G;#B;#z;#$;constructor(t={}){this.#H=t.queryCache||new Et,this.#j=t.mutationCache||new wt,this.#h=t.defaultOptions||{},this.#N=new Map,this.#G=new Map,this.#B=0}mount(){this.#B++,1===this.#B&&(this.#z=Q.subscribe((async t=>{t&&(await this.resumePausedMutations(),this.#H.onFocus())})),this.#$=P.subscribe((async t=>{t&&(await this.resumePausedMutations(),this.#H.onOnline())})))}unmount(){this.#B--,0===this.#B&&(this.#z?.(),this.#z=void 0,this.#$?.(),this.#$=void 0)}isFetching(t){return this.#H.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#j.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#H.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=this.#H.build(this,e),s=r.state.data;return void 0===s?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(o(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(t){return this.#H.findAll(t).map((({queryKey:t,state:e})=>[t,e.data]))}setQueryData(t,e,r){const s=this.defaultQueryOptions({queryKey:t}),i=this.#H.get(s.queryHash),n=i?.state.data,a=function(t,e){return"function"==typeof t?t(e):t}(e,n);if(void 0!==a)return this.#H.build(this,s).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return q.batch((()=>this.#H.findAll(t).map((({queryKey:t})=>[t,this.setQueryData(t,e,r)]))))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#H.get(e.queryHash)?.state}removeQueries(t){const e=this.#H;q.batch((()=>{e.findAll(t).forEach((t=>{e.remove(t)}))}))}resetQueries(t,e){const r=this.#H;return q.batch((()=>(r.findAll(t).forEach((t=>{t.reset()})),this.refetchQueries({type:"active",...t},e))))}cancelQueries(t,e={}){const s={revert:!0,...e},i=q.batch((()=>this.#H.findAll(t).map((t=>t.cancel(s)))));return Promise.all(i).then(r).catch(r)}invalidateQueries(t,e={}){return q.batch((()=>(this.#H.findAll(t).forEach((t=>{t.invalidate()})),"none"===t?.refetchType?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e))))}refetchQueries(t,e={}){const s={...e,cancelRefetch:e.cancelRefetch??!0},i=q.batch((()=>this.#H.findAll(t).filter((t=>!t.isDisabled())).map((t=>{let e=t.fetch(void 0,s);return s.throwOnError||(e=e.catch(r)),"paused"===t.state.fetchStatus?Promise.resolve():e}))));return Promise.all(i).then(r)}fetchQuery(t){const e=this.defaultQueryOptions(t);void 0===e.retry&&(e.retry=!1);const r=this.#H.build(this,e);return r.isStaleByTime(o(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(r).catch(r)}fetchInfiniteQuery(t){return t.behavior=ft(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(r).catch(r)}ensureInfiniteQueryData(t){return t.behavior=ft(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return P.isOnline()?this.#j.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#H}getMutationCache(){return this.#j}getDefaultOptions(){return this.#h}setDefaultOptions(t){this.#h=t}setQueryDefaults(t,e){this.#N.set(d(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#N.values()],r={};return e.forEach((e=>{f(t,e.queryKey)&&Object.assign(r,e.defaultOptions)})),r}setMutationDefaults(t,e){this.#G.set(d(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#G.values()],r={};return e.forEach((e=>{f(t,e.mutationKey)&&Object.assign(r,e.defaultOptions)})),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#h.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=l(e.queryKey,e)),void 0===e.refetchOnReconnect&&(e.refetchOnReconnect="always"!==e.networkMode),void 0===e.throwOnError&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===C&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#h.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#H.clear(),this.#j.clear()}};function Dt(t,e){return t.filter((t=>!e.includes(t)))}var Mt=class extends t{#u;#W;#A;#J;#U;#V;#X;#Y;#Z=[];constructor(t,e,r){super(),this.#u=t,this.#J=r,this.#A=[],this.#U=[],this.#W=[],this.setQueries(e)}onSubscribe(){1===this.listeners.size&&this.#U.forEach((t=>{t.subscribe((e=>{this.#tt(t,e)}))}))}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.#U.forEach((t=>{t.destroy()}))}setQueries(t,e){this.#A=t,this.#J=e,q.batch((()=>{const t=this.#U,e=this.#et(this.#A);this.#Z=e,e.forEach((t=>t.observer.setOptions(t.defaultedQueryOptions)));const r=e.map((t=>t.observer)),s=r.map((t=>t.getCurrentResult())),i=r.some(((e,r)=>e!==t[r]));(t.length!==r.length||i)&&(this.#U=r,this.#W=s,this.hasListeners()&&(Dt(t,r).forEach((t=>{t.destroy()})),Dt(r,t).forEach((t=>{t.subscribe((e=>{this.#tt(t,e)}))})),this.#T()))}))}getCurrentResult(){return this.#W}getQueries(){return this.#U.map((t=>t.getCurrentQuery()))}getObservers(){return this.#U}getOptimisticResult(t,e){const r=this.#et(t),s=r.map((t=>t.observer.getOptimisticResult(t.defaultedQueryOptions)));return[s,t=>this.#rt(t??s,e),()=>this.#st(s,r)]}#st(t,e){return e.map(((r,s)=>{const i=t[s];return r.defaultedQueryOptions.notifyOnChangeProps?i:r.observer.trackResult(i,(t=>{e.forEach((e=>{e.observer.trackProp(t)}))}))}))}#rt(t,e){return e?(this.#V&&this.#W===this.#Y&&e===this.#X||(this.#X=e,this.#Y=this.#W,this.#V=p(this.#V,e(t))),this.#V):t}#et(t){const e=new Map(this.#U.map((t=>[t.options.queryHash,t]))),r=[];return t.forEach((t=>{const s=this.#u.defaultQueryOptions(t),i=e.get(s.queryHash);i?r.push({defaultedQueryOptions:s,observer:i}):r.push({defaultedQueryOptions:s,observer:new j(this.#u,s)})})),r}#tt(t,e){const r=this.#U.indexOf(t);-1!==r&&(this.#W=function(t,e,r){const s=t.slice(0);return s[e]=r,s}(this.#W,r,e),this.#T())}#T(){if(this.hasListeners()){const t=this.#V,e=this.#st(this.#W,this.#Z);t!==this.#rt(e,this.#J?.combine)&&q.batch((()=>{this.listeners.forEach((t=>{t(this.#W)}))}))}}},xt=class extends t{#u;#m=void 0;#it;#nt;constructor(t,e){super(),this.#u=t,this.setOptions(e),this.bindMethods(),this.#at()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const e=this.options;this.options=this.#u.defaultMutationOptions(t),y(this.options,e)||this.#u.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#it,observer:this}),e?.mutationKey&&this.options.mutationKey&&d(e.mutationKey)!==d(this.options.mutationKey)?this.reset():"pending"===this.#it?.state.status&&this.#it.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#it?.removeObserver(this)}onMutationUpdate(t){this.#at(),this.#T(t)}getCurrentResult(){return this.#m}reset(){this.#it?.removeObserver(this),this.#it=void 0,this.#at(),this.#T()}mutate(t,e){return this.#nt=e,this.#it?.removeObserver(this),this.#it=this.#u.getMutationCache().build(this.#u,this.options),this.#it.addObserver(this),this.#it.execute(t)}#at(){const t=this.#it?.state??{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0};this.#m={...t,isPending:"pending"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset}}#T(t){q.batch((()=>{if(this.#nt&&this.hasListeners()){const e=this.#m.variables,r=this.#m.context;"success"===t?.type?(this.#nt.onSuccess?.(t.data,e,r),this.#nt.onSettled?.(t.data,null,e,r)):"error"===t?.type&&(this.#nt.onError?.(t.error,e,r),this.#nt.onSettled?.(void 0,t.error,e,r))}this.listeners.forEach((t=>{t(this.#m)}))}))}};function It(t){return t}function Ft(t){return{mutationKey:t.options.mutationKey,state:t.state,...t.options.scope&&{scope:t.options.scope},...t.meta&&{meta:t.meta}}}function kt(t,e,r){return{state:{...t.state,...void 0!==t.state.data&&{data:e(t.state.data)}},queryKey:t.queryKey,queryHash:t.queryHash,..."pending"===t.state.status&&{promise:t.promise?.then(e).catch((t=>r(t)?Promise.reject(new Error("redacted")):Promise.reject(t)))},...t.meta&&{meta:t.meta}}}function Tt(t){return t.state.isPaused}function At(t){return"success"===t.state.status}function Ut(t){return!0}function jt(t,e={}){const r=e.shouldDehydrateMutation??t.getDefaultOptions().dehydrate?.shouldDehydrateMutation??Tt,s=t.getMutationCache().getAll().flatMap((t=>r(t)?[Ft(t)]:[])),i=e.shouldDehydrateQuery??t.getDefaultOptions().dehydrate?.shouldDehydrateQuery??At,n=e.shouldRedactErrors??t.getDefaultOptions().dehydrate?.shouldRedactErrors??Ut,a=e.serializeData??t.getDefaultOptions().dehydrate?.serializeData??It;return{mutations:s,queries:t.getQueryCache().getAll().flatMap((t=>i(t)?[kt(t,a,n)]:[]))}}function Kt(t,e,r){if("object"!=typeof e||null===e)return;const s=t.getMutationCache(),i=t.getQueryCache(),n=r?.defaultOptions?.deserializeData??t.getDefaultOptions().hydrate?.deserializeData??It,a=e.mutations||[],o=e.queries||[];a.forEach((({state:e,...i})=>{s.build(t,{...t.getDefaultOptions().hydrate?.mutations,...r?.defaultOptions?.mutations,...i},e)})),o.forEach((({queryKey:e,state:s,queryHash:a,meta:o,promise:u})=>{let c=i.get(a);const h=void 0===s.data?s.data:n(s.data);if(c){if(c.state.dataUpdatedAt<s.dataUpdatedAt){const{fetchStatus:t,...e}=s;c.setState({...e,data:h})}}else c=i.build(t,{...t.getDefaultOptions().hydrate?.queries,...r?.defaultOptions?.queries,queryKey:e,queryHash:a,meta:o},{...s,data:h,fetchStatus:"idle"});if(u){const t=Promise.resolve(u).then(n);c.fetch(void 0,{initialPromise:t})}}))}function _t({queryFn:t,refetchMode:e}){return async r=>{if("append"!==e){const t=r.client.getQueryCache().find({queryKey:r.queryKey,exact:!0});t&&void 0!==t.state.data&&t.setState({status:"pending",data:void 0,error:null,fetchStatus:"fetching"})}const s=await t(r);for await(const t of s){if(r.signal.aborted)break;r.client.setQueryData(r.queryKey,((e=[])=>e.concat(t)))}return r.client.getQueryData(r.queryKey)}}var Lt=Symbol("dataTagSymbol"),Ht=Symbol("dataTagErrorSymbol"),Nt=Symbol("unsetMarker");function Gt({queries:t,...e},r){const s=z(r),i=it(),n=V(),a=N.useMemo((()=>t.map((t=>{const e=s.defaultQueryOptions(t);return e._optimisticResults=i?"isRestoring":"optimistic",e}))),[t,s,i]);a.forEach((t=>{ot(t),tt(t,n)})),et(n);const[o]=N.useState((()=>new Mt(s,a,e))),[u,c,h]=o.getOptimisticResult(a,e.combine),l=!i&&!1!==e.subscribed;N.useSyncExternalStore(N.useCallback((t=>l?o.subscribe(q.batchCalls(t)):Z),[o,l]),(()=>o.getCurrentResult()),(()=>o.getCurrentResult())),N.useEffect((()=>{o.setQueries(a,e)}),[a,e,o]);const d=u.some(((t,e)=>ct(a[e],t)))?u.flatMap(((t,e)=>{const r=a[e];if(r){const e=new j(s,r);if(ct(r,t))return ht(r,e,n);ut(t,i)&&ht(r,e,n)}return[]})):[];if(d.length>0)throw Promise.all(d);const f=u.find(((t,e)=>{const r=a[e];return r&&rt({result:t,errorResetBoundary:n,throwOnError:r.throwOnError,query:s.getQueryCache().get(r.queryHash),suspense:r.suspense})}));if(f?.error)throw f.error;return c(h())}function Bt(t,e){return lt({...t,enabled:!0,suspense:!0,throwOnError:at,placeholderData:void 0},j,e)}function zt(t,e){return lt({...t,enabled:!0,suspense:!0,throwOnError:at},bt,e)}function $t(t,e){return Gt({...t,queries:t.queries.map((t=>({...t,suspense:!0,throwOnError:at,enabled:!0,placeholderData:void 0})))},e)}function Wt(t,e){const r=z(e);r.getQueryState(t.queryKey)||r.prefetchQuery(t)}function Jt(t,e){const r=z(e);r.getQueryState(t.queryKey)||r.prefetchInfiniteQuery(t)}function Vt(t){return t}function Xt(t){return t}var Yt=(t,e)=>"object"==typeof t&&null!==t&&e in t,Zt=({children:t,options:e={},state:r,queryClient:s})=>{const i=z(s),[n,a]=N.useState(),o=N.useRef(e);return o.current=e,N.useMemo((()=>{if(r){if("object"!=typeof r)return;const t=i.getQueryCache(),e=r.queries||[],s=[],u=[];for(const r of e){const e=t.get(r.queryHash);if(e){const t=r.state.dataUpdatedAt>e.state.dataUpdatedAt||Yt(r.promise,"status")&&Yt(e.promise,"status")&&r.promise.status!==e.promise.status,s=n?.find((t=>t.queryHash===r.queryHash));t&&(!s||r.state.dataUpdatedAt>s.state.dataUpdatedAt)&&u.push(r)}else s.push(r)}s.length>0&&Kt(i,{queries:s},o.current),u.length>0&&a((t=>t?[...t,...u]:u))}}),[i,n,r]),N.useEffect((()=>{n&&(Kt(i,{queries:n},o.current),a(void 0))}),[i,n]),t};function te(t,e){const r=z(e),s=r.getQueryCache();return N.useSyncExternalStore(N.useCallback((t=>s.subscribe(q.batchCalls(t))),[s]),(()=>r.isFetching(t)),(()=>r.isFetching(t)))}function ee(t,e){return se({filters:{...t,status:"pending"}},z(e)).length}function re(t,e){return t.findAll(e.filters).map((t=>e.select?e.select(t):t.state))}function se(t={},e){const r=z(e).getMutationCache(),s=N.useRef(t),i=N.useRef(null);return i.current||(i.current=re(r,t)),N.useEffect((()=>{s.current=t})),N.useSyncExternalStore(N.useCallback((t=>r.subscribe((()=>{const e=p(i.current,re(r,s.current));i.current!==e&&(i.current=e,q.schedule(t))}))),[r]),(()=>i.current),(()=>i.current))}function ie(t,e){const r=z(e),[s]=N.useState((()=>new xt(r,t)));N.useEffect((()=>{s.setOptions(t)}),[s,t]);const i=N.useSyncExternalStore(N.useCallback((t=>s.subscribe(q.batchCalls(t))),[s]),(()=>s.getCurrentResult()),(()=>s.getCurrentResult())),n=N.useCallback(((t,e)=>{s.mutate(t,e).catch(Z)}),[s]);if(i.error&&Y(s.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:n,mutateAsync:i.mutate}}})(),i})()));